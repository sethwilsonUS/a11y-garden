# ==============================================================================
# A11y Garden Environment Variables
# ==============================================================================
# Copy this file to .env.local and fill in your values.
# Never commit .env.local to version control!
# ==============================================================================

# ------------------------------------------------------------------------------
# CLERK AUTHENTICATION
# Get these from https://dashboard.clerk.com
# 1. Create a new application (or use existing)
# 2. Go to API Keys in the sidebar
# 3. Copy the Publishable Key and Secret Key
# ------------------------------------------------------------------------------
NEXT_PUBLIC_CLERK_PUBLISHABLE_KEY=pk_test_...
CLERK_SECRET_KEY=sk_test_...

# Auth routes (these match the project structure, usually no need to change)
NEXT_PUBLIC_CLERK_SIGN_IN_URL=/sign-in
NEXT_PUBLIC_CLERK_SIGN_UP_URL=/sign-up

# ------------------------------------------------------------------------------
# CONVEX DATABASE & BACKEND
# Get these from https://dashboard.convex.dev
# 1. Run `npx convex dev` to create your project
# 2. The CLI will output your deployment URL
# 3. Find CONVEX_DEPLOYMENT in your project settings
# ------------------------------------------------------------------------------
CONVEX_DEPLOYMENT=dev:your-deployment-name
NEXT_PUBLIC_CONVEX_URL=https://your-deployment.convex.cloud

# ------------------------------------------------------------------------------
# CONVEX ENVIRONMENT VARIABLES  (add these in the Convex dashboard, NOT here)
# Go to: Convex Dashboard → Settings → Environment Variables
# ------------------------------------------------------------------------------
#
# CLERK_JWT_ISSUER_DOMAIN  (required for server-side auth)
#   Your Clerk Frontend API URL — find it at https://dashboard.clerk.com → API Keys
#   Dev:  https://verb-noun-00.clerk.accounts.dev
#   Prod: https://clerk.yourdomain.com
#
# OPENAI_API_KEY  (required for AI summaries)
#   Get from https://platform.openai.com/api-keys
#
# Why the Convex dashboard? These run in Convex serverless functions,
# not in Next.js, so they need to be in the Convex environment.
# ------------------------------------------------------------------------------

# ------------------------------------------------------------------------------
# OPENAI  (optional — powers CLI AI summaries)
# Get your key from https://platform.openai.com/api-keys
# The *web app* reads this from the Convex dashboard (see above), but the CLI
# reads it from .env.local / your shell environment.
# ------------------------------------------------------------------------------
# OPENAI_API_KEY=sk-...

# ------------------------------------------------------------------------------
# UPSTASH REDIS — rate limiting & concurrency
# https://console.upstash.com
# Optional in dev (rate limiting is disabled without these).
# Required in production to prevent abuse.
# ------------------------------------------------------------------------------
# UPSTASH_REDIS_REST_URL=https://...upstash.io
# UPSTASH_REDIS_REST_TOKEN=...

# Force-enable rate limiting in local dev (for testing):
# RATE_LIMIT_ENABLED=true

# ------------------------------------------------------------------------------
# BROWSERLESS (Production Only)
# For running Playwright in serverless environments like Vercel
# Get a free API token from https://www.browserless.io
# ------------------------------------------------------------------------------
# BROWSERLESS_TOKEN=your-token-here

# ------------------------------------------------------------------------------
# LOCAL DEVELOPMENT OPTIONS
# ------------------------------------------------------------------------------

# Option A: Use local Playwright (default, no config needed)
# Just run: npx playwright install chromium

# Option B: Use local Docker Browserless (useful for testing production parity)
# Run: docker run -p 3001:3000 ghcr.io/browserless/chromium
# Then uncomment:
# BROWSERLESS_URL=ws://localhost:3001
